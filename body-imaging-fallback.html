<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Body Imaging — Rush Radiology</title>
  <meta name="description" content="Body Imaging clinical division at Rush University Medical Center" />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root { --rush-green: #006332; }
    .rail { position: fixed; top: 0; bottom: 0; width: clamp(24px, 7vw, 120px); background: var(--rush-green); z-index: 10; pointer-events: none; }
    @media (max-width: 1023px) { .rail { display: none; } }
    .card { border-radius: 1rem; background: #fff; border: 1px solid rgba(15,23,42,0.08); box-shadow: 0 1px 2px rgba(0,0,0,0.04); }
    .btn { border-radius: 1rem; padding: 0.6rem 1rem; font-size: 0.875rem; display: inline-flex; align-items: center; gap: .5rem; }
    .btn-primary { background: var(--rush-green); color: #fff; }
    .btn-outline { border: 1px solid #cbd5e1; background: #fff; color: #0f172a; }
    .btn-ghost { background: transparent; color: #334155; }
    .headshot { width: 6rem; height: 6rem; border-radius: 9999px; object-fit: cover; border: 2px solid #ffffff; box-shadow: 0 1px 2px rgba(0,0,0,.06); }
    .chip { display:inline-flex; align-items:center; gap:.25rem; border-radius:999px; background: rgba(0,99,50,0.10); color: #0f172a; padding: .25rem .6rem; font-size: .75rem; }
    .faculty-card { transition: all 0.2s ease; }
    .faculty-card.hidden { display: none; }
  </style>
</head>
<body class="min-h-screen bg-gradient-to-b from-white to-slate-50 text-slate-900">
  <div class="rail left-0"></div>
  <div class="rail right-0" style="right:0"></div>

  <!-- Top bar -->
  <div class="w-full border-b bg-white/80 backdrop-blur sticky top-0 z-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
      <a href="index.html" class="flex items-center gap-3 group" title="Rush Radiology Home">
        <div class="h-8 w-8 rounded-md" style="background:var(--rush-green)"></div>
        <div class="leading-tight">
          <div class="font-semibold tracking-tight group-hover:underline">Department of Radiology</div>
          <div class="text-xs text-slate-500">Rush University Medical Center</div>
        </div>
      </a>
      <nav class="hidden md:flex items-center gap-6 text-sm text-slate-700">
        <a class="hover:text-slate-900" href="index.html">Home</a>
        <a class="hover:text-slate-900" href="residency.html">Residency & Fellowships</a>
        <a class="hover:text-slate-900" href="body-imaging.html">Body Imaging</a>
        <a class="hover:text-slate-900" href="index.html#faculty">Faculty</a>
        <a class="hover:text-slate-900" href="index.html#careers">Careers</a>
        <a class="btn btn-primary hover:opacity-90" href="residency.html#apply">Apply</a>
      </nav>
      <a class="md:hidden inline-flex items-center gap-2 rounded-xl border px-3 py-2 text-sm" href="index.html">Menu</a>
    </div>
  </div>

  <header class="relative overflow-hidden">
    <div class="absolute inset-0" style="background:linear-gradient(90deg,rgba(0,99,50,0.1),transparent),linear-gradient(to bottom,#ffffff, #f8fafc);" aria-hidden="true"></div>
    <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-14 md:py-20">
      <span class="chip">Clinical Division</span>
      <h1 class="mt-3 text-3xl sm:text-4xl md:text-5xl font-semibold tracking-tight">Body Imaging</h1>
      <p class="mt-4 max-w-2xl text-slate-600">
        Comprehensive CT, MRI and ultrasound of the abdomen and pelvis with tight collaboration across hepatology, oncology and surgery.
      </p>
      <div class="mt-6 flex flex-wrap gap-3">
        <a class="btn btn-primary hover:opacity-90" href="#faculty">Meet the faculty</a>
        <a class="btn btn-outline" href="#services">Clinical services</a>
        <a class="btn btn-ghost" href="#research">Research</a>
      </div>
    </div>
  </header>

  <section id="faculty" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-12">
    <div class="flex items-end justify-between mb-6">
      <h2 class="text-xl font-semibold tracking-tight">Faculty</h2>
      <div class="flex items-center gap-2">
        <svg class="h-4 w-4 text-slate-500" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <circle cx="11" cy="11" r="7"/>
          <line x1="21" y1="21" x2="16.65" y2="16.65"/>
        </svg>
        <input id="facultySearch" type="text" class="h-9 w-64 rounded-md border border-slate-300 px-3 text-sm focus:border-green-500 focus:outline-none focus:ring-1 focus:ring-green-500" placeholder="Search faculty by name..." />
      </div>
    </div>
    <div id="facultyGrid" class="grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
      <!-- Faculty cards will be populated by JavaScript -->
      <div id="facultyLoading" class="col-span-full text-center py-8">
        <div class="text-slate-500">Loading faculty...</div>
      </div>
    </div>
  </section>

  <section id="services" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-16">
    <h2 class="text-xl font-semibold tracking-tight mb-3">Clinical Services</h2>
    <div class="grid md:grid-cols-3 gap-6">
      <div class="card p-5"><div class="font-semibold">Abdominal MRI & CT</div><p class="text-sm text-slate-600 mt-1">Liver, pancreas, kidneys; advanced protocols including multiphasic CT and MR elastography.</p></div>
      <div class="card p-5"><div class="font-semibold">Pelvic MRI</div><p class="text-sm text-slate-600 mt-1">Prostate MRI (PI‑RADS), gynecologic oncology, and pelvic floor imaging.</p></div>
      <div class="card p-5"><div class="font-semibold">Ultrasound</div><p class="text-sm text-slate-600 mt-1">Abdominal doppler, transplant evaluation, and image-guided procedures.</p></div>
    </div>
  </section>

  <section id="research" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-16 mb-20">
    <div class="card p-6">
      <h2 class="text-lg font-semibold tracking-tight">Research & Collaboration</h2>
      <p class="text-sm text-slate-600 mt-1">Ongoing projects in quantitative imaging biomarkers, AI-assisted detection, and treatment response assessment. Faculty collaborate with oncology, transplant surgery and GI on clinical trials and outcomes work.</p>
      <div class="mt-3 flex flex-wrap gap-3">
        <a class="btn btn-outline" href="#">Recent publications</a>
        <a class="btn btn-outline" href="#">Clinical trials</a>
      </div>
    </div>
  </section>

  <script>
  // Embedded faculty data (fallback approach)
  const facultyData = {
    "divisions": {
      "body-imaging": {
        "faculty": [
          {
            "id": "leah-bennett",
            "name": "Leah Bennett",
            "degree": "MD",
            "title": "Section Chief, Body Imaging",
            "academic_rank": "Professor",
            "email": "lbennett@rush.edu",
            "phone": "(312) 942-5741",
            "clinical_focus": ["Abdominal MRI", "oncologic imaging", "MR elastography"],
            "headshot": "leah-bennett.jpg",
            "order": 1,
            "status": "active"
          },
          {
            "id": "rahul-desai",
            "name": "Rahul Desai",
            "degree": "MD",
            "title": "Associate Professor",
            "academic_rank": "Associate Professor",
            "email": "rdesai@rush.edu",
            "phone": "(312) 942-5742",
            "clinical_focus": ["Liver imaging", "HCC surveillance", "image-guided ablation"],
            "headshot": "rahul-desai.jpg",
            "order": 2,
            "status": "active"
          },
          {
            "id": "emily-nguyen",
            "name": "Emily Nguyen",
            "degree": "MD",
            "title": "Assistant Professor",
            "academic_rank": "Assistant Professor",
            "email": "anguyen@rush.edu",
            "phone": "(312) 942-5743",
            "clinical_focus": ["MR enterography", "pelvic floor imaging", "resident education"],
            "headshot": "emily-nguyen.jpg",
            "order": 3,
            "status": "active"
          },
          {
            "id": "marcus-reed",
            "name": "Marcus Reed",
            "degree": "MD", 
            "title": "Assistant Professor",
            "academic_rank": "Assistant Professor",
            "email": "mreed@rush.edu",
            "phone": "(312) 942-5744",
            "clinical_focus": ["Pancreatic imaging", "perfusion CT", "quality improvement"],
            "headshot": "marcus-reed.jpg",
            "order": 4,
            "status": "active"
          },
          {
            "id": "nadia-ali",
            "name": "Nadia Ali",
            "degree": "MD",
            "title": "Clinical Instructor", 
            "academic_rank": "Clinical Instructor",
            "email": "nali@rush.edu",
            "phone": "(312) 942-5745",
            "clinical_focus": ["Transplant imaging", "vascular mapping", "ultrasound"],
            "headshot": "nadia-ali.jpg",
            "order": 5,
            "status": "active"
          },
          {
            "id": "owen-wright",
            "name": "Owen Wright",
            "degree": "MD",
            "title": "Assistant Professor",
            "academic_rank": "Assistant Professor", 
            "email": "owright@rush.edu",
            "phone": "(312) 942-5746",
            "clinical_focus": ["Gyn-onc imaging", "advanced prostate MRI", "trials"],
            "headshot": "owen-wright.jpg",
            "order": 6,
            "status": "active"
          }
        ]
      }
    }
  };

  function renderFacultyCard(faculty) {
    const clinicalFocus = faculty.clinical_focus ? faculty.clinical_focus.join(', ') : '';
    
    return `
      <div class="faculty-card card p-5" data-person-id="${faculty.id}" data-name="${faculty.name}" data-title="${faculty.title}">
        <div class="flex items-center gap-4">
          <img src="./images/people/faculty/${faculty.headshot}" 
               alt="Headshot of ${faculty.name}, ${faculty.degree}" 
               class="headshot" 
               onerror="this.src='./images/people/placeholder.svg'" />
          <div>
            <div class="font-semibold">${faculty.name}, ${faculty.degree}</div>
            <div class="text-sm text-slate-500">${faculty.title}</div>
          </div>
        </div>
        
        <div class="mt-3 space-y-2">
          ${clinicalFocus ? `
            <p class="text-sm text-slate-600">
              <span class="text-slate-500">Clinical focus:</span> ${clinicalFocus}
            </p>
          ` : ''}
          
          ${faculty.phone ? `
            <p class="text-sm text-slate-600">
              <span class="text-slate-500">Phone:</span> 
              <a href="tel:${faculty.phone}" class="hover:underline">${faculty.phone}</a>
            </p>
          ` : ''}
          
          ${faculty.email ? `
            <p class="text-sm text-slate-600">
              <span class="text-slate-500">Email:</span> 
              <a href="mailto:${faculty.email}" class="hover:underline text-[color:var(--rush-green)]">${faculty.email}</a>
            </p>
          ` : ''}
        </div>
      </div>
    `;
  }

  function renderFacultyGrid(faculty) {
    const container = document.getElementById('facultyGrid');
    if (!container) {
      console.error('Faculty grid container not found');
      return;
    }

    // Sort faculty by order
    const sortedFaculty = [...faculty].sort((a, b) => (a.order || 0) - (b.order || 0));

    // Generate HTML for all faculty cards
    const facultyHTML = sortedFaculty
      .filter(f => f.status === 'active')
      .map(f => renderFacultyCard(f))
      .join('');

    // Insert into container
    container.innerHTML = facultyHTML;
  }

  function setupSearch(faculty) {
    const searchInput = document.getElementById('facultySearch');
    if (!searchInput) return;

    searchInput.addEventListener('input', (e) => {
      const searchTerm = e.target.value.toLowerCase().trim();
      const container = document.getElementById('facultyGrid');
      const cards = container.querySelectorAll('[data-person-id]');

      if (searchTerm === '') {
        // Show all cards
        cards.forEach(card => card.style.display = 'block');
        return;
      }

      // Filter and reorder cards
      const matches = faculty.filter(person => {
        const name = person.name.toLowerCase();
        const title = (person.title || '').toLowerCase();
        const focus = person.clinical_focus ? person.clinical_focus.join(' ').toLowerCase() : '';
        
        return name.includes(searchTerm) || title.includes(searchTerm) || focus.includes(searchTerm);
      });

      // Hide all cards first
      cards.forEach(card => card.style.display = 'none');

      // Show matched cards
      matches.forEach(person => {
        const card = container.querySelector(`[data-person-id="${person.id}"]`);
        if (card) {
          card.style.display = 'block';
        }
      });
    });
  }

  // Initialize faculty display
  document.addEventListener('DOMContentLoaded', function() {
    console.log('DOM loaded, initializing fallback faculty display...');
    
    try {
      const faculty = facultyData.divisions['body-imaging'].faculty;
      console.log(`Loading ${faculty.length} faculty members`);
      
      // Render faculty grid
      renderFacultyGrid(faculty);
      
      // Setup search functionality
      setupSearch(faculty);
      
      // Hide loading indicator
      const loadingElement = document.getElementById('facultyLoading');
      if (loadingElement) {
        loadingElement.style.display = 'none';
      }
      
      console.log('Faculty display initialized successfully (fallback mode)');
      
    } catch (error) {
      console.error('Error initializing faculty display:', error);
      document.getElementById('facultyGrid').innerHTML = `
        <div class="col-span-full text-center py-8">
          <div class="text-red-500">Error loading faculty data: ${error.message}</div>
        </div>
      `;
    }
  });
  </script>

  <footer class="border-t bg-white/70 backdrop-blur mt-12">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 flex flex-col md:flex-row items-start md:items-center justify-between gap-6">
      <div class="text-sm text-slate-600">© <span id="year"></span> Department of Radiology, Rush University Medical Center</div>
      <div class="flex flex-wrap gap-4 text-sm">
        <a class="hover:underline" href="#">Privacy</a>
        <a class="hover:underline" href="#">Accessibility</a>
        <a class="hover:underline" href="#">Nondiscrimination</a>
        <a class="hover:underline" href="#">Sitemap</a>
      </div>
    </div>
  </footer>
  <script>document.getElementById('year').textContent = new Date().getFullYear();</script>
</body>
</html>